<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Wonolo Data Dash</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <%= include_gon %>
  
  	
	<!--<link href="/app/assets/stylesheets/styles.css" rel="stylesheet">-->
 <!-- 	<link href="bootstrap.min.css" rel="stylesheet">-->
	<!--<link href="font-awesome.min.css" rel="stylesheet">-->
</head>
<body>
	<!-- Navbar -->
	<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="#" class="navbar-left"><%= image_tag("wonolo.png", :alt => "wonolo logo") %></a>
				<a class="navbar-brand" href="#">Wonolo</a>

				<ul class="nav navbar-top-links navbar-right">
					<li class="dropdown"><a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
						<em class="fa fa-globe"></em></a>
						<ul class="dropdown-menu dropdown-languages">
							<li>
								<div class="dropdown-languages-box"><a href="#" class="pull-left">
									<%= image_tag("english.jpg", :alt => "british flag") %>
									<div class="language-body pull-right">
										</br><strong>Display in English.</strong></a>
									</div>
								</div>
							</li>
							<li class="divider"></li>
							<li>
								<div class="dropdown-languages-box"><a href="#" class="pull-left">
									<%= image_tag("vietnamese.jpg", :alt => "vietnamese flag") %>
									<div class="language-body pull-right">
										</br><strong>Display in Vietnamese.</strong></a>
									</div>
								</div>
							</li>
							<li>
								</a></div>
							</li>
						</ul>
					</li>
					
				</ul>
			</div>
		</div>
	</nav><!-- /Navbar -->
<%= yield %>

<script>	


	$.ajax({
        type: "GET",
        url: "data/charts",
        data: {},
        contentType: "application/json; charset=utf-8",
        success: function(data) {
            states = data[0];
            empStatesCompValues = data[1]
            empStatesInProgValues = data[2];
        	window.myBar = new Chart(chart).Bar( 
        	{
        	labels : states,
			datasets : [
				{
					label: "Completed:",
					fillColor : "rgba(255,224,30,0.75)",
					strokeColor : "rgba(220,220,220,0.8)",
					highlightFill: "rgba(255,224,30,0.45)",
					highlightStroke: "rgba(220,220,220,1)",
					data : empStatesCompValues
					// data : [1,2,3]
				},
				{
					label: "In Progress:",
					fillColor : "rgba(220,220,220,0.65)",
					strokeColor : "rgba(220,220,220,0.8)",
					highlightFill : "rgba(220,220,220,0.35)",
					highlightStroke : "rgba(220,220,220,1)",
					data : empStatesInProgValues
					// data : [4,5,6]
				}],
				
        		
        	},
				
				{
				responsive: false,
				scaleLineColor: "rgba(0,0,0,.2)",
				scaleGridLineColor: "rgba(0,0,0,.05)",
				scaleFontColor: "#c5c7cc"
			});
        }
    });


	var chart = document.getElementById("bar-chart").getContext("2d");


</script>
	
</body>
</html>
		
